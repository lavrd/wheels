(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(20)},17:function(e,t,n){},19:function(e,t){e.exports=function(e){function t(t,n){this.object=t,this.domElement=void 0!==n?n:document,this.enabled=!0,this.target=new e.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:e.MOUSE.LEFT,ZOOM:e.MOUSE.MIDDLE,PAN:e.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return u.phi},this.getAzimuthalAngle=function(){return u.theta},this.saveState=function(){o.target0.copy(o.target),o.position0.copy(o.object.position),o.zoom0=o.object.zoom},this.reset=function(){o.target.copy(o.target0),o.object.position.copy(o.position0),o.object.zoom=o.zoom0,o.object.updateProjectionMatrix(),o.dispatchEvent(a),o.update(),c=s.NONE},this.update=function(){var n=new e.Vector3,r=(new e.Quaternion).setFromUnitVectors(t.up,new e.Vector3(0,1,0)),i=r.clone().inverse(),b=new e.Vector3,f=new e.Quaternion;return function(){var e=o.object.position;return n.copy(e).sub(o.target),n.applyQuaternion(r),u.setFromVector3(n),o.autoRotate&&c===s.NONE&&C(2*Math.PI/60/60*o.autoRotateSpeed),u.theta+=d.theta,u.phi+=d.phi,u.theta=Math.max(o.minAzimuthAngle,Math.min(o.maxAzimuthAngle,u.theta)),u.phi=Math.max(o.minPolarAngle,Math.min(o.maxPolarAngle,u.phi)),u.makeSafe(),u.radius*=h,u.radius=Math.max(o.minDistance,Math.min(o.maxDistance,u.radius)),o.target.add(m),n.setFromSpherical(u),n.applyQuaternion(i),e.copy(o.target).add(n),o.object.lookAt(o.target),!0===o.enableDamping?(d.theta*=1-o.dampingFactor,d.phi*=1-o.dampingFactor):d.set(0,0,0),h=1,m.set(0,0,0),!!(p||b.distanceToSquared(o.object.position)>l||8*(1-f.dot(o.object.quaternion))>l)&&(o.dispatchEvent(a),b.copy(o.object.position),f.copy(o.object.quaternion),p=!1,!0)}}(),this.dispose=function(){o.domElement.removeEventListener("contextmenu",F,!1),o.domElement.removeEventListener("mousedown",_,!1),o.domElement.removeEventListener("wheel",A,!1),o.domElement.removeEventListener("touchstart",H,!1),o.domElement.removeEventListener("touchend",Z,!1),o.domElement.removeEventListener("touchmove",W,!1),document.removeEventListener("mousemove",R,!1),document.removeEventListener("mouseup",M,!1),window.removeEventListener("keydown",D,!1)};var o=this,a={type:"change"},r={type:"start"},i={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},c=s.NONE,l=1e-6,u=new e.Spherical,d=new e.Spherical,h=1,m=new e.Vector3,p=!1,b=new e.Vector2,f=new e.Vector2,w=new e.Vector2,g=new e.Vector2,v=new e.Vector2,E=new e.Vector2,y=new e.Vector2,O=new e.Vector2,j=new e.Vector2;function k(){return Math.pow(.95,o.zoomSpeed)}function C(e){d.theta-=e}function x(e){d.phi-=e}var P=function(){var t=new e.Vector3;return function(e,n){t.setFromMatrixColumn(n,0),t.multiplyScalar(-e),m.add(t)}}(),T=function(){var t=new e.Vector3;return function(e,n){t.setFromMatrixColumn(n,1),t.multiplyScalar(e),m.add(t)}}(),N=function(){var t=new e.Vector3;return function(e,n){var a=o.domElement===document?o.domElement.body:o.domElement;if(o.object.isPerspectiveCamera){var r=o.object.position;t.copy(r).sub(o.target);var i=t.length();i*=Math.tan(o.object.fov/2*Math.PI/180),P(2*e*i/a.clientHeight,o.object.matrix),T(2*n*i/a.clientHeight,o.object.matrix)}else o.object.isOrthographicCamera?(P(e*(o.object.right-o.object.left)/o.object.zoom/a.clientWidth,o.object.matrix),T(n*(o.object.top-o.object.bottom)/o.object.zoom/a.clientHeight,o.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),o.enablePan=!1)}}();function L(e){o.object.isPerspectiveCamera?h/=e:o.object.isOrthographicCamera?(o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom*e)),o.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o.enableZoom=!1)}function S(e){o.object.isPerspectiveCamera?h*=e:o.object.isOrthographicCamera?(o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom/e)),o.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o.enableZoom=!1)}function _(e){if(!1!==o.enabled){switch(e.preventDefault(),e.button){case o.mouseButtons.ORBIT:if(!1===o.enableRotate)return;!function(e){b.set(e.clientX,e.clientY)}(e),c=s.ROTATE;break;case o.mouseButtons.ZOOM:if(!1===o.enableZoom)return;!function(e){y.set(e.clientX,e.clientY)}(e),c=s.DOLLY;break;case o.mouseButtons.PAN:if(!1===o.enablePan)return;!function(e){g.set(e.clientX,e.clientY)}(e),c=s.PAN}c!==s.NONE&&(document.addEventListener("mousemove",R,!1),document.addEventListener("mouseup",M,!1),o.dispatchEvent(r))}}function R(e){if(!1!==o.enabled)switch(e.preventDefault(),c){case s.ROTATE:if(!1===o.enableRotate)return;!function(e){f.set(e.clientX,e.clientY),w.subVectors(f,b);var t=o.domElement===document?o.domElement.body:o.domElement;C(2*Math.PI*w.x/t.clientWidth*o.rotateSpeed),x(2*Math.PI*w.y/t.clientHeight*o.rotateSpeed),b.copy(f),o.update()}(e);break;case s.DOLLY:if(!1===o.enableZoom)return;!function(e){O.set(e.clientX,e.clientY),j.subVectors(O,y),j.y>0?L(k()):j.y<0&&S(k()),y.copy(O),o.update()}(e);break;case s.PAN:if(!1===o.enablePan)return;!function(e){v.set(e.clientX,e.clientY),E.subVectors(v,g),N(E.x,E.y),g.copy(v),o.update()}(e)}}function M(e){!1!==o.enabled&&(document.removeEventListener("mousemove",R,!1),document.removeEventListener("mouseup",M,!1),o.dispatchEvent(i),c=s.NONE)}function A(e){!1===o.enabled||!1===o.enableZoom||c!==s.NONE&&c!==s.ROTATE||(e.preventDefault(),e.stopPropagation(),o.dispatchEvent(r),function(e){e.deltaY<0?S(k()):e.deltaY>0&&L(k()),o.update()}(e),o.dispatchEvent(i))}function D(e){!1!==o.enabled&&!1!==o.enableKeys&&!1!==o.enablePan&&function(e){switch(e.keyCode){case o.keys.UP:N(0,o.keyPanSpeed),o.update();break;case o.keys.BOTTOM:N(0,-o.keyPanSpeed),o.update();break;case o.keys.LEFT:N(o.keyPanSpeed,0),o.update();break;case o.keys.RIGHT:N(-o.keyPanSpeed,0),o.update()}}(e)}function H(e){if(!1!==o.enabled){switch(e.touches.length){case 1:if(!1===o.enableRotate)return;!function(e){b.set(e.touches[0].pageX,e.touches[0].pageY)}(e),c=s.TOUCH_ROTATE;break;case 2:if(!1===o.enableZoom)return;!function(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+n*n);y.set(0,o)}(e),c=s.TOUCH_DOLLY;break;case 3:if(!1===o.enablePan)return;!function(e){g.set(e.touches[0].pageX,e.touches[0].pageY)}(e),c=s.TOUCH_PAN;break;default:c=s.NONE}c!==s.NONE&&o.dispatchEvent(r)}}function W(e){if(!1!==o.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===o.enableRotate)return;if(c!==s.TOUCH_ROTATE)return;!function(e){f.set(e.touches[0].pageX,e.touches[0].pageY),w.subVectors(f,b);var t=o.domElement===document?o.domElement.body:o.domElement;C(2*Math.PI*w.x/t.clientWidth*o.rotateSpeed),x(2*Math.PI*w.y/t.clientHeight*o.rotateSpeed),b.copy(f),o.update()}(e);break;case 2:if(!1===o.enableZoom)return;if(c!==s.TOUCH_DOLLY)return;!function(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,a=Math.sqrt(t*t+n*n);O.set(0,a),j.subVectors(O,y),j.y>0?S(k()):j.y<0&&L(k()),y.copy(O),o.update()}(e);break;case 3:if(!1===o.enablePan)return;if(c!==s.TOUCH_PAN)return;!function(e){v.set(e.touches[0].pageX,e.touches[0].pageY),E.subVectors(v,g),N(E.x,E.y),g.copy(v),o.update()}(e);break;default:c=s.NONE}}function Z(e){!1!==o.enabled&&(o.dispatchEvent(i),c=s.NONE)}function F(e){!1!==o.enabled&&e.preventDefault()}o.domElement.addEventListener("contextmenu",F,!1),o.domElement.addEventListener("mousedown",_,!1),o.domElement.addEventListener("wheel",A,!1),o.domElement.addEventListener("touchstart",H,!1),o.domElement.addEventListener("touchend",Z,!1),o.domElement.addEventListener("touchmove",W,!1),window.addEventListener("keydown",D,!1),this.update()}return t.prototype=Object.create(e.EventDispatcher.prototype),t.prototype.constructor=t,Object.defineProperties(t.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}}),t}},20:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(5),i=n.n(r),s=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function c(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}n(17);var l=function(){return a.a.createElement("header",{className:"text-center mt-5 mb-5"},a.a.createElement("h4",null,"Wheels"))},u=function(){return a.a.createElement("footer",{className:"text-center mt-5 mb-5"},a.a.createElement("h6",null,a.a.createElement("a",{href:"https://github.com/xthelavr/",target:"_blank",rel:"noopener noreferrer"},"lluuvr")))},d=n(1),h=n.n(d),m=n(2),p=n(6),b=n(7),f=n(9),w=n(8),g=n(10),v=n(3),E={primaryColor:"#051923",secondColor:"#FFFFFF",exColor1:"#E3D0D8",exColor2:"#333745",exColor3:"#88CCF1"},y={pX:0,pY:-100,pZ:0,rX:0,rY:0,rZ:0,color:E.exColor3,name:"default"},O={wheel_1:Object.assign({},y),wheel_2:Object.assign({},y),wheel_3:Object.assign({},y),wheel_4:Object.assign({},y)};O.wheel_1.pX=-50,O.wheel_1.name="wheel_1",O.wheel_2.pX=-250,O.wheel_2.name="wheel_2",O.wheel_3.pX=-50,O.wheel_3.pZ=280,O.wheel_3.name="wheel_3",O.wheel_4.pX=-250,O.wheel_4.pZ=280,O.wheel_4.name="wheel_4";var j={width:700,height:500},k={audi:"".concat("/wheels","/models/audi.json")},C={enkei:"".concat("/wheels","/models/enkei.json"),vossen:"".concat("/wheels","/models/vossen.json")},x=v,P=function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(f.a)(this,Object(w.a)(t).call(this))).init=Object(m.a)(h.a.mark(function t(){var o,a,r,i,s,c,l,u,d,m;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(o=new x.WebGLRenderer({antialias:!0})).context.getShaderInfoLog=function(){return""},o.setSize(j.width,j.height),o.setClearColor(E.secondColor,1),a=new x.Scene,(r=new x.PerspectiveCamera(20,j.width/j.height,.2,25e3)).position.set(1500,500,500),a.add(r),i=n(19)(v),(s=new i(r,o.domElement)).addEventListener("change",e.renderScene),s.enablePan=!1,s.enableZoom=!1,s.enableDamping=!1,s.enableKeys=!1,s.rotateSpeed=.5,(c=new x.PointLight(16777215,.5,1e4)).position.set(50,150,0),(l=new x.PointLight(16777215,.5,1e4)).position.set(250,500,500),(u=new x.PointLight(16777215,.5,1e4)).position.set(550,500,500),(d=new x.PointLight(16777215,.5,1e4)).position.set(-250,-500,-500),m=new x.AmbientLight(4210752),a.add(c,l,u,d,m),t.next=28,e.setState({renderer:o,scene:a,camera:r});case 28:return t.next=30,e.loadOneTypeModels(k,"audi");case 30:return t.next=32,e.loadOneTypeModels(C,"vossen","wheels");case 32:window.addEventListener("resize",e.onWindowResize,!1);case 33:case"end":return t.stop()}},t)})),e.loadOneTypeModels=function(){var t=Object(m.a)(h.a.mark(function t(n,o,a){var r,i;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=h.a.keys(n);case 1:if((t.t1=t.t0()).done){t.next=16;break}if(r=t.t1.value,!n.hasOwnProperty(r)){t.next=14;break}return t.next=6,e.loadModel(n[r],r);case 6:if(i=t.sent,r!==o){t.next=14;break}t.t2=a,t.next="wheels"===t.t2?11:13;break;case 11:return e.addWheelToScene(i),t.abrupt("break",14);case 13:e.state.scene.add(i);case 14:t.next=1;break;case 16:case"end":return t.stop()}},t)}));return function(e,n,o){return t.apply(this,arguments)}}(),e.loadModel=function(t,n){return new Promise(function(o){(new x.JSONLoader).load(t,function(t){var a=new x.MeshPhongMaterial({flatShading:x.FlatShading,color:y.color}),r=new x.Mesh(t,a);e.setOpts(r,y);var i=e.state.models;i[n]=r,e.setState({models:i}),o(r)})})},e.addWheelToScene=function(t){var n=t.clone(),o=t.clone(),a=t.clone(),r=t.clone();e.setOpts(n,O.wheel_1),e.setOpts(o,O.wheel_2),e.setOpts(a,O.wheel_3),e.setOpts(r,O.wheel_4),e.state.scene.add(n,o,a,r)},e.setOpts=function(e,t){e.name=t.name,e.material.color.set(t.color),e.position.x=t.pX,e.position.y=t.pY,e.position.z=t.pZ,e.rotation.x=t.rX,e.rotation.y=t.rY,e.rotation.z=t.rZ},e.onWindowResize=function(){var t=e.state.camera;t.aspect=j.width/j.height,t.updateProjectionMatrix(),e.setState({camera:t}),e.state.renderer.setSize(j.width,j.height),e.renderScene()},e.getCurrentWheels=function(){var t=e.state.scene;return{wheel_1:t.getObjectByName("wheel_1"),wheel_2:t.getObjectByName("wheel_2"),wheel_3:t.getObjectByName("wheel_3"),wheel_4:t.getObjectByName("wheel_4")}},e.handleChangeColor=function(t,n){var o=E[n];O.wheel_1.color=o,O.wheel_2.color=o,O.wheel_3.color=o,O.wheel_4.color=o;var a=e.getCurrentWheels();e.removeWheels(),e.addWheelToScene(a.wheel_1),e.renderScene(),e.setState({currentColor:n})},e.removeWheels=function(){var t=e.getCurrentWheels();e.state.scene.remove(t.wheel_1,t.wheel_2,t.wheel_3,t.wheel_4)},e.handleChangeWheel=function(t,n){e.removeWheels(),e.addWheelToScene(e.state.models[n]),e.renderScene(),e.setState({currentWheel:n})},e.renderScene=function(){e.state.renderer.render(e.state.scene,e.state.camera)},e.state={renderer:null,scene:null,camera:null,models:{},wheels:["vossen","enkei"],currentColor:"exColor3",currentWheel:"vossen"},e}return Object(g.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return e.next=4,document.getElementById("scene").appendChild(this.state.renderer.domElement);case 4:this.renderScene();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.wheels,r=t.models;return a.a.createElement(o.Fragment,null,n&&Object.keys(r).length?a.a.createElement(o.Fragment,null,a.a.createElement("div",{id:"scene",className:"d-flex justify-content-center"}),a.a.createElement("div",{className:"d-flex justify-content-center"},a.a.createElement("div",{className:"wheels-block"},Object.keys(n).map(function(t,o){var r=n[t];return a.a.createElement("button",{className:"ml-2 mr-2 btn btn-primary",onClick:function(t){return e.handleChangeWheel(t,r)},key:o,disabled:r===e.state.currentWheel},r)})),a.a.createElement("div",{className:"d-flex colors-block ml-5"},Object.keys(E).map(function(t,n){return a.a.createElement("button",{className:"ml-1 mr-1 btn btn-primary",disabled:t===e.state.currentColor,key:n,onClick:function(n){return e.handleChangeColor(n,t)}})})))):a.a.createElement("div",{className:"alert alert-warning"},"Loading..."))}}]),t}(o.Component),T=function(){return a.a.createElement(o.Fragment,null,a.a.createElement(l,null),a.a.createElement(P,null),a.a.createElement(u,null))};i.a.render(a.a.createElement(T,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/wheels",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/wheels","/service-worker.js");s?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):c(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):c(e)})}}()}},[[11,1,2]]]);
//# sourceMappingURL=main.48d78ee8.chunk.js.map